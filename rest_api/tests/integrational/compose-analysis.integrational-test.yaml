services:
  rest-api-integrational-tester:
    build:
      context: ../../../
      dockerfile: rest_api/tests/integrational/Dockerfile
      additional_contexts:
        test_pseudo_fs: "service:test_pseudo_fs"
    environment:
      - EXIT_ONCE_DONE=false
    depends_on:
      test_aggregator:
        condition: service_healthy
    logging:
      driver: syslog
      options:
        syslog-address: "tcp://localhost:13601"
        tag: "{{.Name}}"
    networks:
      - api.pmccabe_collector.network
